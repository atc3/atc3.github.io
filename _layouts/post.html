---
layout: default
---

<article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <a class='home-link' href="{{ "/" | relative_url }}" title="Back to home">← Back to home</a>

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">{{ page.title | escape }}</h1>
    <p class="post-meta">
      <time class="dt-published" datetime="{{ page.date | date_to_xmlschema }}" itemprop="datePublished">
        Published: {{ page.date | date: "%Y-%m-%d" }}
      </time>
      {%- if page.author -%}
        • <span itemprop="author" itemscope itemtype="http://schema.org/Person"><span class="p-author h-card" itemprop="name">{{ page.author }}</span></span>
      {%- endif -%}
    </p>
    <div class='category-meta'>
      <span>Category:</span>
      {% assign sorted_categories = page.categories | sort %}
      {% for category in sorted_categories %}<a href="{{"/category/" | append: category | relative_url }}" title="All {{ category }} posts">{{ category }}</a>{% unless forloop.last %},{% endunless %}
      {% endfor %}
    </div>
    <div class='tag-meta'>
      <span>Tags:</span>
      {% assign sorted_tags = page.tags | sort %}
      {% for tag in sorted_tags %}
        <a href="{{"/tags#" | append: tag | relative_url }}" title="All posts tagged #{{ tag }}">#{{ tag }}</a>{% unless forloop.last %},{% endunless %}
      {% endfor %}
    </div>
  </header>

  <hr />

  <div class="post-content e-content" itemprop="articleBody">
    {{ content }}
  </div>

  <hr />

  <a name="related-posts"></a>
  <h3 class='related-posts-title'>Related Posts</h3>
  <div class='related-posts'>
    {% assign firstCategory = page.categories | first %}
    <ul>
    {% assign relatedCount = 0 %}
    {% for related in site.categories[firstCategory] %}
      {% unless page.title == related.title %}
      {% assign relatedCount = relatedCount | plus: 1 %}
      <li>
        <a href="{{ related.url | relative_url }}" title="{{ related.title }}">[{{ related.date | date: "%Y-%m-%d" }}] {{ related.title }}</a>
      </li>
      {% endunless %}

      {% if relatedCount == 5 %}
        {% break %}
      {% endif %}
    {% endfor %}
    </ul>
  </div>

  <hr />

  <a class='home-link' href="{{ "/" | relative_url }}" title="Back to home">← Back to home</a>

  {%- if site.disqus.shortname -%}
    {%- include disqus_comments.html -%}
  {%- endif -%}

  <a class="u-url" href="{{ page.url | relative_url }}" hidden></a>

  <button onclick="backToTop()" class="back-to-top-btn" id="back-to-top-btn" title="Go to top of the page">
    Back to Top
  </button>
</article>

<script type="text/javascript">

  // From: https://attacomsian.com/blog/deep-anchor-links-javascript
  document.querySelectorAll(
    '.post-content h1, .post-content h2, .post-content h3, .post-content h4, .post-content h5, .post-content h6'
    ).forEach($heading => {

    //create id from heading text
    var id = $heading.getAttribute("id") || $heading.innerText.toLowerCase().replace(/[`~!@#$%^&*()_|+\-=?;:'",.<>\{\}\[\]\\\/]/gi, '').replace(/ +/g, '-');

    //add id to heading
    $heading.setAttribute('id', id);

    //append parent class to heading
    $heading.classList.add('anchor-heading');

    //create anchor
    $anchor = document.createElement('a');
    $anchor.className = 'anchor-link';
    $anchor.href = '#' + id;
    $anchor.innerText = '#';

    //append anchor after heading text
    $heading.appendChild($anchor);
  });

  //Get the button:
  backToTopBtn = document.getElementById("back-to-top-btn");

  // When the user scrolls down 20px from the top of the document, show the button
  window.onscroll = function() { onScroll() };

  function onScroll() {
    if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
      backToTopBtn.style.display = "block";
    } else {
      backToTopBtn.style.display = "none";
    }
  }

  // When the user clicks on the button, scroll to the top of the document
  function backToTop() {
    document.body.scrollTop = 0; // For Safari
    document.documentElement.scrollTop = 0; // For Chrome, Firefox, IE and Opera
  }

</script>